```mermaid
graph LR
    subgraph 传统密集FFN
        A[输入 Token] --> B[全连接层1 (d_model→d_ff)]
        B --> C[激活函数 (如Swish)]
        C --> D[全连接层2 (d_ff→d_model)]
        D --> E[输出 Token]
    end

    subgraph MoE层
        F[输入 Token] --> G[路由门控网络]
        G --> H{Top-K专家选择}
        H -->|专家1| I[专家1 FFN]
        H -->|专家2| J[专家2 FFN]
        I --> K[加权求和]
        J --> K
        K --> L[输出 Token]
    end
  
```